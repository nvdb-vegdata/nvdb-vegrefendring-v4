<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Vegreferanse Historikk</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>
  <script type="module" crossorigin src="/nvdb-vegrefendring-v4/assets/index-lYjzUiOc.js"></script>
  <link rel="stylesheet" crossorigin href="/nvdb-vegrefendring-v4/assets/index-D_nyls9e.css">
</head>


<body>
<div class="container">
    <header>
        <h1>Vegreferanse Historikk</h1>
        <p>Søk etter historiske vegreferanser ved vegreferanse, vegsystemreferanse, lenkeposisjon og koordinater.
            Du kan også klikke i kartet og få frem historiske vegreferanser.</p>
        <p style="font-size:1em; font-weight:bold; color:#d32f2f;">Merk! Dette er en betaversjon under testing</p>
    </header>

    <main>

        <div style="display: flex; gap: 20px; align-items: flex-start;">
            <div id="map" style="flex: 1; min-width: 400px; min-height: 500px;"></div>
            <div class="search-sections" style="flex: 1; min-width: 400px;">

                <div style="margin-bottom:15px;">
                    <label for="searchType">Velg søketype:</label>
                    <select id="searchType">
                        <option value="vegref">Søk på vegreferanse</option>
                        <option value="vegsysref">Søk på vegsystemreferanse</option>
                        <option value="koordinat">Søk på koordinat</option>
                        <option value="lenke">Søk på lenkeposisjon</option>
                    </select>
                </div>


                <div class="search-sections">

                    <section class="search-section" id="vegrefSection">
                        <h2>Søk på vegreferanse</h2>
                        <form id="vegrefForm" class="search-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vegref_fylke">Fylke *</label>
                                    <input type="number" id="vegref_fylke" name="fylke" value="8" min="1" max="99"
                                           required>
                                </div>
                                <div class="form-group">
                                    <label for="vegref_kommune">Kommune</label>
                                    <input type="text" id="vegref_kommune" name="kommune" placeholder="00"
                                           maxlength="2">
                                </div>
                                <div class="form-group">
                                    <label for="vegref_kat">Kategori *</label>
                                    <select id="vegref_kat" name="kat" required>
                                        <option value="">Velg kategori</option>
                                        <option value="E" selected>E - Europavei</option>
                                        <option value="R">R - Riksvei</option>
                                        <option value="F">F - Fylkesvei</option>
                                        <option value="K">K - Kommunal vei</option>
                                        <option value="P">P - Privat vei</option>
                                        <option value="S">S - Skogsbilvei</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="vegref_stat">Status *</label>
                                    <select id="vegref_stat" name="stat">
                                        <option value="V" selected>V - Eksisterende vei</option>
                                        <option value="A">A - Arm</option>
                                        <option value="B">B - Beredskapsvei</option>
                                        <option value="E">E - Gang-/sykkelvei</option>
                                        <option value="G">G - Gangvei</option>
                                        <option value="H">H - Hovedvei</option>
                                        <option value="M">M - Rampe</option>
                                        <option value="P">P - Proposed</option>
                                        <option value="Q">Q - Rundkjøring</option>
                                        <option value="S">S - Sykkelvei</option>
                                        <option value="T">T - Traktorvei</option>
                                        <option value="U">U - Under bygging</option>
                                        <option value="W">W - Vinterstengd</option>
                                        <option value="X">X - Ikke eksisterende</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vegref_vegnr">Vegnummer *</label>
                                    <input type="number" id="vegref_vegnr" name="vegnr" value="18" min="1" max="99999"
                                           required>
                                </div>
                                <div class="form-group">
                                    <label for="vegref_hp">Hovedparsell *</label>
                                    <input type="number" id="vegref_hp" name="hp" value="1" min="1" max="999">
                                </div>
                                <div class="form-group">
                                    <label for="vegref_meter">Meter *</label>
                                    <input type="number" id="vegref_meter" name="meter" value="0" min="0" max="99999">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="vegref_dato" title="Setter du dato så hentes treff som var gyldige på denne datoen. Uten dato hentes alle treff.">
                                    Avgrens på dato (Vegreferanse fram til 31-10-2022)&nbsp;&#9432;</label>
                                <input type="date" id="vegref_dato" name="dato" max="2022-10-31">
                            </div>
                            <div style="margin:25px 5px 1px 5px;">
                                <label class="switch">
                                    <input type="checkbox" id="avansert_vegreg_sok" name="avansert_vegref_sok"
                                           value="off">
                                </label>
                                <span title="Videresøke på stedfestingen til de historiske vegobjektene søket fant og hent ut alle historiske vegobekt som har vært stedfestet på disse lenkeposisjonene."
                                >Videresøk på stedfestingen til historisk vegobjekt</span>&nbsp;&#9432;
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn-primary">Søk</button>
                                <button type="reset" class="btn-secondary">Nullstill skjema</button>
                            </div>
                        </form>
                    </section>
                    <section class="search-section" id="vegsysrefSection" style="display:none">
                        <h2>Søk på vegsystemreferanse</h2>
                        <form id="vegsysrefForm" class="search-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vegsysref_kommune">Kommune</label>
                                    <input list="vegsysref_kommuner"  id="vegsysref_kommune" name="kommune">
                                    <datalist id="vegsysref_kommuner">
                                    </datalist>
                                </div>
                                <div class="form-group">
                                    <label for="vegsysref_kat">Kategori *</label>
                                    <select id="vegsysref_kat" name="kat" required>
                                        <option value="">Velg kategori</option>
                                        <option value="E" selected>E - Europavei</option>
                                        <option value="R">R - Riksvei</option>
                                        <option value="F">F - Fylkesvei</option>
                                        <option value="K">K - Kommunal vei</option>
                                        <option value="P">P - Privat vei</option>
                                        <option value="S">S - Skogsbilvei</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="vegsysref_fase">Fase *</label>
                                    <select id="vegsysref_fase" name="fase">
                                        <option value="P">P - Planlagt veg</option>
                                        <option value="A">A - Under bygging</option>
                                        <option value="V" selected>V - Eksisterende vei</option>
                                        <option value="F">F - Fiktiv veg</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="vegsysref_vegnr">Vegnummer *</label>
                                    <input type="number" id="vegsysref_vegnr" name="vegnr" value="18" min="1"
                                           max="99999"
                                           required>
                                </div>
                                <div class="form-group">
                                    <label for="vegsysref_strekning">Strekning *</label>
                                    <input type="number" id="vegsysref_strekning" name="hp" value="1" min="1" max="999">
                                </div>
                                <div class="form-group">
                                    <label for="vegsysref_delstrekning">Delstrekning *</label>
                                    <input type="number" id="vegsysref_delstrekning" name="hp" value="1" min="1"
                                           max="999">
                                </div>
                                <div class="form-group">
                                    <label for="vegsysref_meter">Meter *</label>
                                    <input type="number" id="vegsysref_meter" name="meter" value="0" min="0"
                                           max="99999">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="extraType">Kryssystem / Sideanlegg</label>
                                    <select id="extraType" name="extraType">
                                        <option value="">Ingen</option>
                                        <option value="sideanlegg">Sideanlegg</option>
                                        <option value="kryssystem">Kryssystem</option>
                                    </select>
                                </div>
                                <div class="form-group" id="sideanleggsdel-group" style="display:none;">
                                    <label for="sideanleggsdel">Sideanleggsdel *</label>
                                    <input type="number" id="sideanleggsdel" name="sideanleggsdel" placeholder="Sideanleggsdel" min="1">
                                    <label for="sideanleggsdel_meter">Sideanlegg meter *</label>
                                    <input type="number" id="sideanleggsdel_meter" name="sideanleggsdel_meter" placeholder="Sideanleggsdel meter">
                                </div>
                                <div class="form-group" id="kryssdel-group" style="display:none;">
                                    <label for="kryssdel">Kryssdel *</label>
                                    <input type="number" id="kryssdel" name="kryssdel" placeholder="Kryssdel" min="1">
                                    <label for="kryssdel_meter">Kryssdel meter *</label>
                                    <input type="number" id="kryssdel_meter" name="kryssdel_meter" placeholder="Kryssdel meter">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vegsysref_dato" title="Setter du dato så hentes treff som var gyldige på denne datoen. Uten dato hentes alle treff.">
                                        Avgrens på dato (Vegsystemreferanse startet i november
                                        2019)>&nbsp;&#9432;</label>
                                    <input type="date" id="vegsysref_dato" name="dato">
                                </div>
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn-primary">Søk</button>
                                <button type="reset" class="btn-secondary">Nullstill skjema</button>
                            </div>
                        </form>
                    </section>

                    <section class="search-section" id="posSection" style="display:none">
                        <h2>Søk på koordinater</h2>
                        <form id="posForm" class="search-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="easting">Øst-koordinat *</label>
                                    <input type="number" id="easting" value="205060.17" name="easting" step="any"
                                           required
                                           placeholder="f.eks. 262650">
                                </div>
                                <div class="form-group">
                                    <label for="northing">Nord-koordinat *</label>
                                    <input type="number" id="northing" value="6560102.44" name="northing" step="any"
                                           required
                                           placeholder="f.eks. 6651180">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="posForm_dato" title="Setter du dato så hentes treff som var gyldige på denne datoen. Uten dato hentes alle treff.">
                                        Avgrens på dato&nbsp;&#9432;</label>
                                    <input type="date" id="posForm_dato" name="dato">
                                </div>
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn-primary">Søk</button>
                                <button type="reset" class="btn-secondary">Nullstill skjema</button>
                            </div>
                        </form>
                    </section>

                    <section class="search-section" id="lenkeSection" style="display:none">
                        <h2>Søk på posisjon@lenkesekvensId</h2>
                        <form id="lenkeForm" class="search-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="posisjon">Posisjon *</label>
                                    <input type="number" id="posisjon" name="posisjon" min="0" max="1"
                                           value="0.86004074"
                                           step="any"
                                           required placeholder="f.eks. 0.3">
                                </div>
                                <div class="form-group">
                                    <label for="lenkesekvensId">LenkesekvensId *</label>
                                    <input type="number" id="lenkesekvensId" name="lenkesekvensId" value="521066"
                                           required
                                           placeholder="f.eks. 123456">
                                </div>
                                <div class="form-group">
                                    <label for="lenkeForm_dato" title="Setter du dato så hentes treff som var gyldige på denne datoen. Uten dato hentes alle treff.">
                                        Avgrens på Dato&nbsp;&#9432;</label>
                                    <input type="date" id="lenkeForm_dato" name="dato">
                                </div>
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn-primary">Søk</button>
                                <button type="reset" class="btn-secondary">Nullstill skjema</button>
                            </div>
                        </form>
                    </section>
                </div>
            </div>
        </div>

        <div style="margin-bottom:15px;">
            <label class="switch">
                <input type="checkbox" id="vis532_switch" name="vis532" value="off">
                <span class="slider"></span>
            </label>
            <span style="margin-left:10px;">Vis informasjon om historisk vegobjekttype 532 i resultater</span>
        </div>

        <section id="results" class="results-section">
            <!-- Resultater vises her -->
        </section>
    </main>
</div>


<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
        integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
        crossorigin=""></script>


</body>
</html>
